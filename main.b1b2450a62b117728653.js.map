{"version":3,"sources":["webpack:///./Components/header/header.js","webpack:///./Components/header/navigation/navigation.js","webpack:///./api_services.js","webpack:///./Components/header/lib_buttons/hidden.js","webpack:///./Components/innerPages/ineer_page.js","webpack:///./refs.js","webpack:///./helpers.js","webpack:///./index.js","webpack:///./Components/innerPages/single-film.js","webpack:///./Components/mainPage/mainPage.js","webpack:///./Components/header/search/search_api.js","webpack:///./Components/templates/watched-page.js","webpack:///./Components/header/lib_buttons/process.js","webpack:///./Components/movieList/movieListItem/movieListItem.js","webpack:///./Components/preloader/preloader.js","webpack:///./Components/pagination/pagination.js","webpack:///./Components/header/logo/logo.js","webpack:///./Components/movieList/movieList.js"],"names":["refs","require","addHeaderClass","header","classList","add","removeHeaderClass","remove","addSingleHeaderClass","removeSingleHeaderClass","navigationModule","array","returnMarkup","link","data","toLowerCase","starterMainPage","showSearch","hideBtns","displayWatched","hideSearch","showBtns","watchingArray","JSON","parse","localStorage","getItem","sizeOfPagination","Math","ceil","length","Pagination","Init","getLink","e","target","closest","element","document","querySelector","dataset","navigation","innerHTML","reduce","acc","item","toUpperCase","itemMarkup","addEventListener","api_key","generes","info","getGeneres","axios","get","then","response","genres","getMovies","APIhelpers","page","result","results","map","film","undefined","genre_ids","find","genre","id","Error","getMoviesForPlag","getMovieByQuery","query","getMovieByID","searchInputs","querySelectorAll","forEach","el","searchButton","saveToLocalStorage","button","buttonAction","action","Number","parseInt","targetArray","currentArray","jsonSet","contains","setItem","stringify","filter","textContent","some","container","watchedBtn","queueBtn","preloader","baseURL","urlForIMG","imgParams","watched","queue","isMobile","isTablet","isDesktop","getProps","width","window","screen","singlePage","poster_path","title","vote_count","original_title","overview","popularity","vote_average","name","genresMapper","join","getId","filmId","API","newMurk","event","totalResults","total_results","markupResult","markup","movieList","createMarkup","insertAdjacentHTML","getGenresList","preventDefault","currentTarget","input","value","total_pages","filmsWatched","filmsQueue","movieListItem","release_date","slice","splice","p","createElement","body","insertBefore","firstChild","onload","t","Date","getTime","before","getElementById","setTimeout","className","removeEventListener","arguments","callee","domReady","attachEvent","readyState","detachEvent","code","size","step","context","resultsQuery","Add","s","f","i","this","Last","First","APIandMarkup","fun","resultQuery","Click","Start","Prev","Next","Bind","a","getElementsByTagName","Finish","Buttons","nav","Create","Clear","movies","movie"],"mappings":"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","file":"main.b1b2450a62b117728653.js","sourcesContent":["const { refs } = require('../../refs');\r\n\r\nexport function addHeaderClass() {\r\n  refs.header.classList.add('new_image');\r\n}\r\nexport function removeHeaderClass() {\r\n  refs.header.classList.remove('new_image');\r\n}\r\n\r\nexport function addSingleHeaderClass() {\r\n  refs.header.classList.add('single_film_img');\r\n}\r\nexport function removeSingleHeaderClass() {\r\n  refs.header.classList.remove('single_film_img');\r\n}\r\n","import API from '../../../api_services';\nimport { movieList } from '../../movieList/movieList';\nimport { refs } from './../../../refs';\nimport { starterMainPage, createMarkup, getId } from '../../mainPage/mainPage';\nimport { saveToLocalStorage } from '../../innerPages/ineer_page';\nimport { APIhelpers } from '../../../helpers';\nimport { movieListItem } from '../../movieList/movieListItem/movieListItem';\nimport {\n  hideSearch,\n  showSearch,\n  hideBtns,\n  showBtns,\n} from '../lib_buttons/hidden';\nimport { displayWatched } from '../lib_buttons/process';\nimport {\n  addHeaderClass,\n  removeHeaderClass,\n  removeSingleHeaderClass,\n} from '../header';\nimport { Pagination } from '../../pagination/pagination';\n\nexport const navigationModule = array => {\n  const itemMarkup = item => {\n    return `\n    <li data-link=${item} class=\"navigationListItem  ${\n      item === 'Home' ? 'active' : ''\n    } ${item === 'Home' ? 'js-home' : 'js-library'}\" >\n    <span>${item.toUpperCase()}</span>\n    </li>\n    `;\n  };\n\n  const listMarkup = () => {\n    const result = array.reduce((acc, item) => {\n      acc += itemMarkup(item);\n      return acc;\n    }, '');\n    return `<ul class=\"navigationList\">${result}</ul>`;\n  };\n\n  const setActiveLink = target => {\n    const activeElement = document.querySelector('.active');\n    activeElement.classList.remove('active');\n    target.classList.add('active');\n  };\n\n  const returnMarkup = async link => {\n    const data = link.toLowerCase();\n    switch (data) {\n      case 'home':\n        removeHeaderClass();\n        removeSingleHeaderClass();\n\n        starterMainPage();\n        showSearch();\n        hideBtns();\n        // APIhelpers.page = 1;\n\n        break;\n      case 'library':\n        addHeaderClass();\n        displayWatched();\n        hideSearch();\n        showBtns();\n\n        const watchingArray = JSON.parse(localStorage.getItem('watched')) || [];\n\n        const sizeOfPagination = Math.ceil(watchingArray.length / 100);\n\n        Pagination.Init(sizeOfPagination, 'library');\n\n        break;\n\n      default:\n        return '';\n        break;\n    }\n  };\n  const getLink = e => {\n    if (e.target.closest('[data-link]')) {\n      const element = e.target.closest('[data-link]');\n      setActiveLink(element);\n      returnMarkup(e.target.closest('[data-link]').dataset.link);\n    } else return;\n  };\n\n  const addListeners = () => {\n    const list = document.querySelector('.navigationList');\n    list.addEventListener('click', getLink);\n  };\n\n  refs.navigation.innerHTML = listMarkup();\n  addListeners();\n};\n","import axios from 'axios';\nimport { APIhelpers } from './helpers';\n\nconst api_key = '249034089965cfc778893cbdb0f537e5';\nconst generes = {\n  info: [],\n};\nexport const getGeneres = async () => {\n  generes.info = await axios\n    .get(\n      'https://api.themoviedb.org/3/genre/movie/list?api_key=249034089965cfc778893cbdb0f537e5&language=en-US',\n    )\n    .then(response => response.data.genres);\n};\n\nexport const getGenresList = array => {\n  if (array === undefined) {\n    array = [];\n  }\n  const mapArray = array.map(item =>\n    generes.info.find(genre => genre.id === item),\n  );\n\n  return mapArray;\n};\n\nexport default {\n  async getMovies() {\n    try {\n      const response = await axios.get(\n        `https://api.themoviedb.org/3/trending/all/day?api_key=${api_key}&page=${APIhelpers.page}`,\n      );\n      await getGeneres();\n      const result = response.data.results.map(film => {\n        film.genres = getGenresList(film.genre_ids);\n        return film;\n      });\n\n      return result;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n  async getMoviesForPlag() {\n    try {\n      const response = await axios.get(\n        `https://api.themoviedb.org/3/trending/all/day?api_key=${api_key}&page=${APIhelpers.page}`,\n      );\n\n      return response;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n\n  async getMovieByQuery() {\n    try {\n      const response = await axios.get(\n        `https://api.themoviedb.org/3/search/movie?api_key=${api_key}&query=${APIhelpers.query}&page=${APIhelpers.page}`,\n      );\n      return response;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n  async getMovieByID(id) {\n    try {\n      const response = await axios.get(\n        `https://api.themoviedb.org/3/movie/${id}?api_key=${api_key}`,\n      );\n      return response;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n};\n","export const hideSearch = () => {\r\n  const searchInputs = document.querySelectorAll('.search');\r\n  const searchButton = document.querySelectorAll('.search-button');\r\n  searchButton.forEach(el => {\r\n    el.classList.add('hideSearch');\r\n  });\r\n  searchInputs.forEach(el => {\r\n    el.classList.add('hideSearch');\r\n  });\r\n};\r\n\r\nexport const showSearch = () => {\r\n  const searchInputs = document.querySelectorAll('.search');\r\n  const searchButton = document.querySelectorAll('.search-button');\r\n  searchInputs.forEach(el => {\r\n    el.classList.remove('hideSearch');\r\n  });\r\n  searchButton.forEach(el => {\r\n    el.classList.remove('hideSearch');\r\n  });\r\n};\r\n\r\nexport const hideBtns = () => {\r\n  const btn_library = document.querySelectorAll('.btn_library');\r\n  btn_library.forEach(el => {\r\n    el.classList.add('hideSearch');\r\n  });\r\n};\r\n\r\nexport const showBtns = () => {\r\n  const btn_library = document.querySelectorAll('.btn_library');\r\n  btn_library.forEach(el => {\r\n    el.classList.remove('hideSearch');\r\n  });\r\n};\r\n","// export function saveToLocalStorage(e, data) {\r\n//   const currentButton = e.target.dataset.action;\r\n//   const id = Number.parseInt(e.target.dataset.id);\r\n//   let targetArray = '';\r\n//   switch (currentButton) {\r\n//     case 'watched-films':\r\n//       targetArray = 'watched';\r\n//       break;\r\n//     case 'queue-films':\r\n//       targetArray = 'queue';\r\n//       break;\r\n//     default:\r\n//       break;\r\n//   }\r\n//   let currentArray = [];\r\n//   const jsonSet = localStorage.getItem(targetArray);\r\n//   if (jsonSet) {\r\n//     currentArray = JSON.parse(jsonSet);\r\n//   }\r\n\r\n//   if (currentArray.length) {\r\n//     if (currentArray.some(film => film.id === id)) {\r\n//       return;\r\n//     }\r\n//   }\r\n//   localStorage.setItem(targetArray, JSON.stringify([...currentArray, data]));\r\n// }\r\nexport function saveToLocalStorage(e, data) {\r\n  const button = e.target;\r\n  const buttonAction = e.target.dataset.action;\r\n  const id = Number.parseInt(e.target.dataset.id);\r\n  let targetArray = '';\r\n  switch (buttonAction) {\r\n    case 'watched-films':\r\n      targetArray = 'watched';\r\n      break;\r\n    case 'queue-films':\r\n      targetArray = 'queue';\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  let currentArray = [];\r\n  const jsonSet = localStorage.getItem(targetArray);\r\n  if (jsonSet) {\r\n    currentArray = JSON.parse(jsonSet);\r\n  }\r\n  if (button.classList.contains('item-exist')) {\r\n    localStorage.setItem(\r\n      targetArray,\r\n      JSON.stringify(currentArray.filter(film => film.id !== id)),\r\n    );\r\n    button.classList.remove('item-exist');\r\n    button.textContent = `Add to ${targetArray}`;\r\n  } else {\r\n    if (currentArray.length) {\r\n      if (currentArray.some(film => film.id === id)) {\r\n        return;\r\n      }\r\n    }\r\n    localStorage.setItem(targetArray, JSON.stringify([...currentArray, data]));\r\n    button.classList.add('item-exist');\r\n    button.textContent = `Remove from ${targetArray}`;\r\n  }\r\n}\r\n","export const refs = {\n  container: document.querySelector('.container'),\n  navigation: document.querySelector('.navigation'),\n  header: document.querySelector('.header'),\n  watchedBtn: document.querySelector('#watched'),\n  queueBtn: document.querySelector('#queue'),\n  preloader: document.querySelector('.preloader'),\n};\n","export const APIhelpers = {\n  baseURL: 'https://api.themoviedb.org',\n  urlForIMG: 'https://image.tmdb.org',\n  imgParams: '/t/p/w500/',\n  page: 1,\n  api_key: '249034089965cfc778893cbdb0f537e5',\n  query: '',\n};\n\nexport const info = {\n  watched: [],\n  queue: [],\n  isMobile: false,\n  isTablet: false,\n  isDesktop: false,\n};\n\nexport const getProps = () => {\n  const width = window.screen.width;\n\n  if (localStorage.getItem('watched')) {\n    info.watched = [\n      ...info.watched,\n      ...JSON.parse(localStorage.getItem('watched')),\n    ];\n  }\n  if (localStorage.getItem('queue')) {\n    info.queue = [...info.queue, ...JSON.parse(localStorage.getItem('queue'))];\n  }\n\n  if (width > 320 && width < 768) {\n    info.isMobile = true;\n  }\n\n  if (width > 768 && width < 1024) {\n    info.isTablet = true;\n  }\n\n  if (width > 1024) {\n    info.isDesktop = true;\n  }\n};\n","import './styles.css';\n\nimport './Components/preloader/preloader.js';\nimport './Components/preloader/preloader.css';\nimport './Components/pagination/pagination.css';\n\nimport { navigationModule } from './Components/header/navigation/navigation';\nimport { api_services } from './api_services';\nimport searchAPI from '../src/Components/header/search/search_api';\n\nimport { info, getProps } from './helpers';\nimport { pagination } from './Components/pagination/pagination.js';\nimport './Components/mainPage/mainPage';\n\nimport './Components/header/lib_buttons/process';\nimport './Components/header/logo/logo';\nconst array = ['Home', 'Library'];\n\nnavigationModule(array);\n","export const singlePage = ({\n  id,\n  poster_path,\n  title,\n  vote_count,\n  original_title,\n  genres,\n  overview,\n  popularity,\n  vote_average,\n}) => {\n  function genresMapper(genres) {\n    const result = genres.map(genre => genre.name);\n    return result;\n  }\n  if (poster_path === null) {\n    poster_path = '/ugZW8ocsrfgI95pnQ7wrmKDxIe.jpg';\n  }\n  return `<section class=\"single-page\" data-id=\"${id}\">\n    <div class=\"poster-wrapper\">\n      <img class=\"poster img\" src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" alt=\"\">\n    </div>\n    <div class=\"description-wrapper\">\n      <h2 class=\"film-title\">${title}</h2>\n      <div class=\"vote-wrapper\">\n        <span class=\"titles vote-titles\">Vote / Votes: </span> <span class=\"votes-average\">${vote_average} </span>\n          <span class=\"votes-count\">${' / ' + vote_count}</span>\n      </div>\n      <div class=\"popularity-wrapper\">\n        <span class=\"titles film-popularity\">Popularity: </span> <span class=\"popularity-score\">${popularity}</span>\n      </div>\n      <div class=\"original-film-wrapper\">\n        <span class=\"titles original-film-titles\">Original title: </span> <span\n          class=\"original-film-name\">${original_title}</span>\n      </div>\n      <div class=\"film-genre-wrapper\">\n        <span class=\"titles film-genre\">Genres: </span> <span class=\"genre-list\">${genresMapper(\n          genres,\n        ).join(', ')}</span>\n      </div>\n      <h3>About</h3>\n      <p class=\"film-description\">${overview}</p>\n      <div class=\"button-wrapper\">\n        <button type=\"button\" class=\"video-icon button-icon\" data-id=\"${id}\" data-action=\"watched-films\">Add to\n          watched</button>\n        <button type=\"button\" class=\"calendar-icon button-icon\" data-id=\"${id}\" data-action=\"queue-films\">Add to\n          queue</button>\n      </div>\n          </div>\n  </section>\n  `;\n};\n","import { APIhelpers } from '../../helpers';\nimport { movieListItem } from '../movieList/movieListItem/movieListItem';\nimport API from '../../api_services';\nimport { movieList } from '../movieList/movieList';\nimport { mivieListItem } from '../movieList/movieListItem/movieListItem';\nimport { refs } from '../../refs';\nimport { singlePage } from '../innerPages/single-film';\nimport { navigationModule } from '../header/navigation/navigation';\nimport { saveToLocalStorage } from '../innerPages/ineer_page';\nimport { Pagination } from '../pagination/pagination';\nimport { hideBtns } from '../header/lib_buttons/hidden';\nimport { addSingleHeaderClass } from '../header/header';\n\nexport async function getId(e) {\n  addSingleHeaderClass();\n  if (e.target.closest('[data-id]')) {\n    const filmId = e.target.closest('[data-id]').dataset.id;\n\n    const result = await API.getMovieByID(filmId);\n    const newMurk = singlePage(result.data);\n\n    refs.container.innerHTML = newMurk;\n    const watchedBtn = document.querySelector('[data-action=\"watched-films\"]');\n    const queueBtn = document.querySelector('[data-action=\"queue-films\"]');\n    let currentArray = [];\n    let jsonSet = localStorage.getItem('watched');\n    if (jsonSet) {\n      currentArray = JSON.parse(jsonSet);\n    }\n    if (currentArray.find(film => film.id === Number.parseInt(filmId))) {\n      watchedBtn.classList.add('item-exist');\n      watchedBtn.textContent = `Remove to watched`;\n    } else {\n      watchedBtn.classList.remove('item-exist');\n      watchedBtn.textContent = `Add from watched`;\n    }\n    currentArray = [];\n    jsonSet = localStorage.getItem('queue');\n    if (jsonSet) {\n      currentArray = JSON.parse(jsonSet);\n    }\n    if (currentArray.find(film => film.id === Number.parseInt(filmId))) {\n      queueBtn.classList.add('item-exist');\n      queueBtn.textContent = `Remove to queue`;\n    } else {\n      queueBtn.classList.remove('item-exist');\n      queueBtn.textContent = `Add from queue`;\n    }\n    const button_wrapper = document.querySelector('.button-wrapper');\n    button_wrapper.addEventListener('click', event =>\n      saveToLocalStorage(event, result.data),\n    );\n  } else return;\n}\n\nexport const starterMainPage = async () => {\n  const result = await API.getMoviesForPlag();\n  let totalResults = Math.ceil(result.data.total_results / 20);\n  const context = 'mainPage';\n  Pagination.Init(totalResults, context);\n  const markupResult = await API.getMovies();\n  const markup = movieList(markupResult);\n  hideBtns();\n\n  refs.container.innerHTML = `<ul class=\"movies_list\">${markup}</ul>`;\n  const movie_list = document.querySelector('.movies_list');\n  movie_list.addEventListener('click', getId);\n};\n\nstarterMainPage();\n\nexport function createMarkup(data) {\n  refs.container.innerHTML = '';\n  const markup = movieList(data);\n  refs.container.insertAdjacentHTML(\n    'beforeend',\n    `<ul class=\"movies_list\">${markup}</ul>`,\n  );\n}\n","import { APIhelpers } from '../../../helpers';\nimport getMovieByQuery from '../../../api_services';\nimport { createMarkup, getId } from '../../mainPage/mainPage';\nimport { data } from 'autoprefixer';\nimport { movieList } from '../../movieList/movieList';\nimport { Pagination } from '../../pagination/pagination';\nimport axios from 'axios';\nimport { refs } from '../../../refs';\nconst generes = {\n  info: [],\n};\nexport const getGeneres = async () => {\n  generes.info = await axios\n    .get(\n      'https://api.themoviedb.org/3/genre/movie/list?api_key=249034089965cfc778893cbdb0f537e5&language=en-US',\n    )\n    .then(response => response.data.genres);\n};\n\nexport const getGenresList = array => {\n  const mapArray = array.map(item =>\n    generes.info.find(genre => genre.id === item),\n  );\n  return mapArray;\n};\n\nconst searchInput = document.querySelector('#search-form');\nsearchInput.addEventListener('submit', setQuery);\ndocument.querySelector('.movieList');\nexport async function setQuery() {\n  event.preventDefault();\n  const query = event.currentTarget.input.value;\n  APIhelpers.query = query;\n\n  const data = await getMovieByQuery.getMovieByQuery();\n\n  await getGeneres();\n  const result = data.data.results.map(film => {\n    film.genres = getGenresList(film.genre_ids);\n    return film;\n  });\n  createMarkup(result);\n\n  let totalResults = data.data.total_pages;\n  const context = 'search_api';\n  Pagination.Init(totalResults, context, APIhelpers.query);\n  const movie_list = document.querySelector('.movies_list');\n  movie_list.addEventListener('click', getId);\n}\n","export const watchedListItem = ({ id, backdrop_path, title, vote_average }) => {\n  return ` <li data-id=\"${id}\">\n      <div class=\"poster-wrapper\">\n        <img src=\"https://image.tmdb.org/t/p/w500/${backdrop_path}\" alt=\"movie poster image\">\n        <div>\n          <h2 class=\"film-title\">${title}</h2>\n          <p class=\"film-vote\">${vote_average}</p>\n        </div>\n      </div>\n    </li>\n    `;\n};\n","import { watchedListItem } from '../../templates/watched-page';\r\nimport { createMarkup, getId } from '../../mainPage/mainPage';\r\n\r\nexport const displayWatched = () => {\r\n  // const container = document.createElement('ul');\r\n  // container.classList.add('w_films');\r\n  // const mainContainer = document.querySelector('.container');\r\n  // mainContainer.innerHTML = '';\r\n  // mainContainer.appendChild(container);\r\n  watchedBtn.classList.add('active_btn');\r\n  queueBtn.classList.remove('active_btn');\r\n  const filmsWatched = JSON.parse(localStorage.getItem('watched')) || [];\r\n\r\n  createMarkup(filmsWatched);\r\n  const movie_list = document.querySelector('.movies_list');\r\n  movie_list.addEventListener('click', getId);\r\n  // const films = filmsWatched.map(item => watchedListItem(item));\r\n  // const filmUl = document.querySelector('.w_films');\r\n  // filmUl.innerHTML = '';\r\n  // filmUl.insertAdjacentHTML('afterbegin', films);\r\n};\r\n\r\nconst displayQueue = () => {\r\n  // const container = document.createElement('ul');\r\n  // container.classList.add('w_films');\r\n  // const mainContainer = document.querySelector('.container');\r\n  // mainContainer.innerHTML = '';\r\n  // mainContainer.appendChild(container);\r\n  watchedBtn.classList.remove('active_btn');\r\n  queueBtn.classList.add('active_btn');\r\n\r\n  const filmsQueue = JSON.parse(localStorage.getItem('queue')) || [];\r\n  createMarkup(filmsQueue);\r\n  const movie_list = document.querySelector('.movies_list');\r\n  movie_list.addEventListener('click', getId);\r\n  // const films = filmsQueue.map(item => watchedListItem(item));\r\n  // const filmUl = document.querySelector('.w_films');\r\n  // filmUl.innerHTML = '';\r\n  // filmUl.insertAdjacentHTML('afterbegin', films);\r\n};\r\n\r\n// btn\r\nconst watchedBtn = document.querySelector('#watched');\r\nconst queueBtn = document.querySelector('#queue');\r\nwatchedBtn.addEventListener('click', displayWatched);\r\nqueueBtn.addEventListener('click', displayQueue);\r\n","import { APIhelpers } from '../../../helpers';\nexport const movieListItem = ({\n  title,\n  poster_path,\n  id,\n  release_date,\n  vote_average,\n  genres,\n  name,\n}) => {\n  if (release_date === undefined) {\n    release_date = 'Unreleased yet';\n  }\n  if (poster_path === null) {\n    poster_path = '/ugZW8ocsrfgI95pnQ7wrmKDxIe.jpg';\n  }\n  return `\n    <li class=\"movieListItem\" data-id=${id}>\n    <div class=\"image\">\n    <img class=\"img\" src=\"${\n      APIhelpers.urlForIMG + APIhelpers.imgParams + poster_path\n    }\" alt=\"\">\n    </div>\n    <h2>${\n      title ? (title.length > 15 ? title.slice(0, 15) + '...' : title) : name\n    }</h2>\n    <span class=\"genres\">${genres\n      .map(item => (item ? item.name : 'other'))\n      .splice(0, 2)\n      .join(', ')}</span>\n    <span class=\"date\">${'| ' + release_date}</span>\n    <span class=\"rating\">${vote_average}</span>\n    </li>\n    `;\n};\n","var p = document.createElement('div');\r\np.innerHTML =\r\n  \"<div style='z-index:100000' id='owlreporter-preloader'><div id='loader'></div><div class='loader-section section-left'></div><div class='loader-section section-right'></div></div>\";\r\ndocument.body.insertBefore(p, document.body.firstChild);\r\nfunction pageload() {\r\n  var e = new Date().getTime(),\r\n    t = (e - before) / 1e3,\r\n    n = document.getElementById('loadingtime');\r\n  n.innerHTML = 'Page load: ' + t + ' seconds.';\r\n}\r\n(window.onload = function () {\r\n  pageload();\r\n}),\r\n  setTimeout(function () {\r\n    document.body.className += ' loaded';\r\n  }, 1500),\r\n  document.addEventListener\r\n    ? document.addEventListener(\r\n        'DOMContentLoaded',\r\n        function () {\r\n          document.removeEventListener(\r\n            'DOMContentLoaded',\r\n            arguments.callee,\r\n            !1,\r\n          ),\r\n            domReady();\r\n        },\r\n        !1,\r\n      )\r\n    : document.attachEvent &&\r\n      document.attachEvent('onreadystatechange', function () {\r\n        'complete' === document.readyState &&\r\n          (document.detachEvent('onreadystatechange', arguments.callee),\r\n          domReady());\r\n      });\r\n","import { APIhelpers } from '../../helpers';\r\nimport API from '../../api_services';\r\n// import { totalResults } from '../mainPage/mainPage.js';\r\n// import '../pagination/pagination.css'\r\nimport { info, getProps } from '../../helpers';\r\nimport { starterMainPage } from '../mainPage/mainPage.js';\r\nimport { setQuery } from '../header/search/search_api.js';\r\nimport getMovieByQuery from '../../api_services';\r\nimport { createMarkup, getId } from '../mainPage/mainPage.js';\r\nimport { refs } from '../../refs.js';\r\nimport { movieList } from '../movieList/movieList.js';\r\n\r\nexport const Pagination = {\r\n  code: '',\r\n  size: 0, // pages size\r\n\r\n  step: 2, // pages before and after current\r\n  context: '',\r\n  resultsQuery: [],\r\n\r\n  // add pages by number (from [s] to [f])\r\n  Add: function (s, f) {\r\n    for (var i = s; i < f; i++) {\r\n      this.code += '<a>' + i + '</a>';\r\n    }\r\n  },\r\n\r\n  // add last page with separator\r\n  Last: function () {\r\n    getProps();\r\n\r\n    if (info.isMobile) {\r\n      return;\r\n    }\r\n    Pagination.code += '<i>...</i><a>' + Pagination.size + '</a>';\r\n  },\r\n\r\n  // add first page with separator\r\n  First: function () {\r\n    if (info.isMobile) {\r\n      return;\r\n    }\r\n    Pagination.code += '<a>1</a><i>...</i>';\r\n  },\r\n\r\n  APIandMarkup: function () {\r\n    APIhelpers.page = Pagination.page;\r\n    // APIhelpers.page = Number(event.target.textContent);\r\n    if (Pagination.context === 'mainPage') {\r\n      const result = API.getMovies().then(result => {\r\n        const markup = movieList(result.results);\r\n\r\n        refs.container.innerHTML = `<ul class=\"movies_list\">${markup}</ul>`;\r\n        const movie_list = document.querySelector('.movies_list');\r\n        movie_list.addEventListener('click', getId);\r\n      });\r\n    }\r\n\r\n    if (Pagination.context === 'search_api') {\r\n      APIhelpers.page = Number(event.target.textContent);\r\n\r\n      APIhelpers.query = Pagination.resultQuery;\r\n      async function fun() {\r\n        const data = await getMovieByQuery.getMovieByQuery();\r\n\r\n        createMarkup(data.results);\r\n        const movie_list = document.querySelector('.movies_list');\r\n        movie_list.addEventListener('click', getId);\r\n      }\r\n      fun();\r\n    }\r\n  },\r\n\r\n  // change page\r\n  Click: function () {\r\n    Pagination.page = +this.innerHTML;\r\n    Pagination.Start();\r\n    this.APIandMarkup();\r\n  },\r\n\r\n  // previous page\r\n  Prev: function () {\r\n    Pagination.page--;\r\n    if (Pagination.page < 1) {\r\n      Pagination.page = 1;\r\n    }\r\n    Pagination.Start();\r\n    this.APIandMarkup();\r\n  },\r\n\r\n  // next page\r\n  Next: function () {\r\n    Pagination.page++;\r\n\r\n    if (Pagination.page > Pagination.size) {\r\n      Pagination.page = Pagination.size;\r\n    }\r\n    Pagination.Start();\r\n    this.APIandMarkup();\r\n  },\r\n\r\n  // binding pages\r\n  Bind: function () {\r\n    var a = Pagination.e.getElementsByTagName('a');\r\n    for (var i = 0; i < a.length; i++) {\r\n      if (+a[i].innerHTML === Pagination.page) a[i].className = 'activePage';\r\n      a[i].addEventListener('click', Pagination.Click, false);\r\n    }\r\n  },\r\n\r\n  // write pagination\r\n  Finish: function () {\r\n    Pagination.e.innerHTML = Pagination.code;\r\n    Pagination.code = '';\r\n    Pagination.Bind();\r\n  },\r\n\r\n  // find pagination type\r\n  Start: function () {\r\n    if (Pagination.size < Pagination.step * 2 + 6) {\r\n      Pagination.Add(1, Pagination.size + 1);\r\n    } else if (Pagination.page < Pagination.step * 2 + 1) {\r\n      if (info.isMobile) {\r\n        Pagination.Add(1, Pagination.step * 2 + 2);\r\n      } else {\r\n        Pagination.Add(1, Pagination.step * 2 + 4);\r\n      }\r\n      Pagination.Last();\r\n    } else if (Pagination.page > Pagination.size - Pagination.step * 2) {\r\n      Pagination.First();\r\n      Pagination.Add(\r\n        Pagination.size - Pagination.step * 2 - 2,\r\n        Pagination.size + 1,\r\n      );\r\n    } else {\r\n      Pagination.First();\r\n      Pagination.Add(\r\n        Pagination.page - Pagination.step,\r\n        Pagination.page + Pagination.step + 1,\r\n      );\r\n      Pagination.Last();\r\n    }\r\n    Pagination.Finish();\r\n  },\r\n\r\n  // binding buttons\r\n  Buttons: function (e) {\r\n    var nav = e.getElementsByTagName('div');\r\n    nav[0].addEventListener('click', Pagination.Prev, false);\r\n    nav[1].addEventListener('click', Pagination.Next, false);\r\n  },\r\n\r\n  // create skeleton\r\n  Create: function (e) {\r\n    var html = [\r\n      '<div class=\"arrowLeftWrapper\"><img id=\"al\" src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyLjY2NjYgOEgzLjMzMzI1IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEuMzMzMzMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNNy45OTk5MiAxMi42NjY3TDMuMzMzMjUgOC4wMDAwNEw3Ljk5OTkyIDMuMzMzMzciIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMS4zMzMzMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=\"></></div>', // previous button\r\n      '<span class=\"pages_list\"></span>', // pagination container\r\n      '<div class=\"arrowRightWrapper\"><img id=\"ar\" src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0zLjMzMzI5IDhIMTIuNjY2NiIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxLjMzMzMzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4NCjxwYXRoIGQ9Ik03Ljk5OTk2IDEyLjY2NjdMMTIuNjY2NiA4LjAwMDA0TDcuOTk5OTYgMy4zMzMzNyIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxLjMzMzMzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4NCjwvc3ZnPg0K\"></></div>', // next button\r\n    ];\r\n\r\n    e.innerHTML = html.join('');\r\n    Pagination.e = e.getElementsByTagName('span')[0];\r\n    Pagination.Buttons(e);\r\n  },\r\n\r\n  Clear: function () {\r\n    document.getElementById('pagination').innerHTML = '';\r\n  },\r\n\r\n  Init: function (size, context, resultQuery) {\r\n    this.context = context;\r\n    this.size = size;\r\n    Pagination.page = 1;\r\n    this.resultQuery = resultQuery;\r\n\r\n    this.Create(document.getElementById('pagination'));\r\n    this.Start();\r\n  },\r\n};\r\n","const { starterMainPage } = require('../../mainPage/mainPage');\r\nconst { showSearch } = require('../lib_buttons/hidden');\r\nconst { refs } = require('../../../refs');\r\nconst { APIhelpers } = require('../../../helpers');\r\nconst { Pagination } = require('../../pagination/pagination');\r\nconst { removeSingleHeaderClass } = require('../header');\r\n\r\nconst logo = document.querySelector('.logo');\r\nlogo.addEventListener('click', realizeClick);\r\nfunction realizeClick() {\r\n  starterMainPage();\r\n  showSearch();\r\n  removeSingleHeaderClass();\r\n  const activeElement = document.querySelector('.active');\r\n  activeElement.classList.remove('active');\r\n  const jsHome = document.querySelector('.js-home');\r\n  jsHome.classList.add('active');\r\n}\r\n","import { movieListItem } from './movieListItem/movieListItem';\n\nexport const movieList = movies =>\n  movies.reduce((acc, movie) => {\n    acc += movieListItem(movie);\n    return acc;\n  }, '');\n"],"sourceRoot":""}